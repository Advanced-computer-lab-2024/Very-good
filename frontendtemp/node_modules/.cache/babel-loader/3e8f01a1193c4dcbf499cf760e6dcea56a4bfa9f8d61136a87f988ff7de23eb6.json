{"ast":null,"code":"var _jsxFileName = \"/Users/maranmalak/MERNSTACK/Very-good/frontendtemp/src/Components/SortProductRate.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchProductsNoID } from '../Services/productServices';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductSort = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showMappings, setShowMappings] = useState(false); // Toggle for activities\n\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const Products = await fetchProductsNoID();\n        console.log(\"raw fetch products:\", Products);\n        if (Products && Products.data) {\n          const sortedProducts = Products.data.sort((a, b) => {\n            const rateA = a.rating;\n            const rateB = b.rating;\n            return rateB - rateA; // Sort by rating in ascending order\n          });\n          setProducts(sortedProducts); // Update state with sorted products\n          console.log('sorted list by rate:', sortedProducts);\n        } else {\n          throw new Error(\"No data found in the response for products sorted by rating.\");\n        }\n      } catch (err) {\n        console.error(\"Error fetching products sorted by rating:\", err.message);\n        setError(err.message);\n      } finally {\n        setLoading(false); // Stop loading for activities\n      }\n    };\n    getProducts(); // Fetch first set of products (sorted by rating)\n  }, []);\n\n  // Toggle function\n  const toggleMappings = () => setShowMappings(prevState => !prevState);\n  const ProductCard = ({\n    product\n  }) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itinerary-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 20\n        }, this), \" \", product.description || \"No description available\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 20\n        }, this), \" \", product.price, \" EGP\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }, this), \" \", product.rating, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Stock:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 20\n        }, this), \" \", product.stock > 0 ? `${product.stock} available` : \"Out of stock\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sort Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sorted by Rating\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleMappings,\n      children: showMappings ? \"Hide Products Sorted by Rating\" : \"Show Products Sorted by Rating\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading products sorted by rating...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }, this), showMappings && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Products Sorted by Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No products available sorted by rating.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }, this) : products.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product\n      }, product._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductSort, \"jngh+kovpf3Bqkh4lJXt9idRgwE=\");\n_c = ProductSort;\nexport default ProductSort;\nvar _c;\n$RefreshReg$(_c, \"ProductSort\");","map":{"version":3,"names":["React","useEffect","useState","fetchProductsNoID","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductSort","_s","products","setProducts","loading","setLoading","error","setError","showMappings","setShowMappings","getProducts","Products","console","log","data","sortedProducts","sort","a","b","rateA","rating","rateB","Error","err","message","toggleMappings","prevState","ProductCard","product","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","description","price","stock","onClick","length","map","_id","_c","$RefreshReg$"],"sources":["/Users/maranmalak/MERNSTACK/Very-good/frontendtemp/src/Components/SortProductRate.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchProductsNoID } from '../Services/productServices';\n\n\nconst ProductSort = () => {\n    const [products, setProducts] = useState([]); \n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [showMappings, setShowMappings] = useState(false);  // Toggle for activities\n\n    useEffect(() => {\n        const getProducts = async () => {\n            try {\n                const Products = await fetchProductsNoID();\n                console.log(\"raw fetch products:\", Products);\n\n                if (Products && Products.data) {\n                    const sortedProducts = Products.data.sort((a, b) => {\n                        const rateA = a.rating;\n                        const rateB = b.rating;\n                        return rateB - rateA;  // Sort by rating in ascending order\n                    });\n                    setProducts(sortedProducts);  // Update state with sorted products\n                    console.log('sorted list by rate:', sortedProducts);\n                } else {\n                    throw new Error(\"No data found in the response for products sorted by rating.\");\n                }\n            } catch (err) {\n                console.error(\"Error fetching products sorted by rating:\", err.message);\n                setError(err.message);\n            } finally {\n                setLoading(false);  // Stop loading for activities\n            }\n        };\n\n        getProducts();  // Fetch first set of products (sorted by rating)\n    }, []);\n\n    // Toggle function\n    const toggleMappings = () => setShowMappings(prevState => !prevState);\n\n    const ProductCard = ({ product }) => {\n        return (\n            <div className=\"itinerary-card\">\n                <h3>{product.name}</h3>\n                <p><strong>Description:</strong> {product.description || \"No description available\"}</p>\n                <p><strong>Price:</strong> {product.price} EGP</p>\n                <p><strong>Rating:</strong> {product.rating} </p>\n                <p><strong>Stock:</strong> {product.stock > 0 ? `${product.stock} available` : \"Out of stock\"}</p>\n\n                \n            </div>\n        );\n    };\n    \n    return (\n        <div className=\"container\">\n            <h1>Sort Products</h1>\n            <h2>Sorted by Rating</h2>\n            \n            {/* Toggle Button: Show/Hide Products */}\n            <button onClick={toggleMappings}>\n                {showMappings ? \"Hide Products Sorted by Rating\" : \"Show Products Sorted by Rating\"}\n            </button>\n\n            {loading && <p>Loading products sorted by rating...</p>}\n            {error && <p>Error: {error}</p>}\n\n            {showMappings && (\n                <>\n                    <h2>Products Sorted by Rating</h2>\n                    {products.length === 0 ? (\n                        <p>No products available sorted by rating.</p>\n                    ) : (\n                        products.map(product => (\n                            <ProductCard key={product._id} product={product} />\n                        ))\n                    )}\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default ProductSort;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}